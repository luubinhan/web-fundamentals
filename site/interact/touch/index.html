



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.4.3">
    
    
      
        <title>Thêm touch cho website - Kiến thức nền tảng của Web</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.30686662.css">
      
      
    
    
      <script src="../../assets/javascripts/modernizr.74668098.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../assets/fonts/material-icons.css">
    
    
    
      
    
    
  </head>
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#css" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../.." title="Kiến thức nền tảng của Web" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              Kiến thức nền tảng của Web
            </span>
            <span class="md-header-nav__topic">
              
                Thêm touch cho website
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main" role="main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="../.." title="Kiến thức nền tảng của Web" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    Kiến thức nền tảng của Web
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      UI/UX
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        UI/UX
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../ui-ux/font/" title="Font chữ trên web" class="md-nav__link">
      Font chữ trên web
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ui-ux/mot-website-tot-tren-mobile-la-nhu-the-nao/" title="Một website tốt trên mobile là như thế nào" class="md-nav__link">
      Một website tốt trên mobile là như thế nào
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ui-ux/focus/" title="Focus" class="md-nav__link">
      Focus
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ui-ux/dom-order/" title="DOM Order" class="md-nav__link">
      DOM Order
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ui-ux/su-dung-tab-index/" title="Tab Index" class="md-nav__link">
      Tab Index
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ui-ux/aria/" title="Aria" class="md-nav__link">
      Aria
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ui-ux/seo/" title="SEO" class="md-nav__link">
      SEO
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ui-ux/hiding-update-content/" title="Hiding update content" class="md-nav__link">
      Hiding update content
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ui-ux/responsive-pattern/" title="Layout responsive" class="md-nav__link">
      Layout responsive
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ui-ux/responsive-image/" title="Responsive image" class="md-nav__link">
      Responsive image
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ui-ux/add-to-homescreen/" title="Thêm nút Add to Homescreen" class="md-nav__link">
      Thêm nút Add to Homescreen
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ui-ux/install-pwa/" title="Gợi ý cài đặt PWA" class="md-nav__link">
      Gợi ý cài đặt PWA
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3" checked>
    
    <label class="md-nav__link" for="nav-3">
      Tương tác
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Tương tác
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Thêm touch cho website
      </label>
    
    <a href="./" title="Thêm touch cho website" class="md-nav__link md-nav__link--active">
      Thêm touch cho website
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#css" class="md-nav__link">
    CSS
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tuong-tac-tuy-bien" class="md-nav__link">
    Tương tác tùy biến
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#them-cac-listener-cho-event" class="md-nav__link">
    Thêm các listener cho event
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#xu-ly-khi-bat-au-va-ket-thuc-cham" class="md-nav__link">
    Xử lý khi bắt đầu và kết thúc chạm
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#su-dung-requestanimationframe-e-toi-uu-hieu-nang" class="md-nav__link">
    Sử dụng requestAnimationFrame để tối ưu hiệu năng
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#touch-action" class="md-nav__link">
    touch-action
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ho-tro-trang-thai-active-tren-ios" class="md-nav__link">
    Hỗ trợ trạng thái active trên iOS
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../form/" title="Thiết kế form thật ngầu" class="md-nav__link">
      Thiết kế form thật ngầu
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../web-app-manifest/" title="Web App Manifest" class="md-nav__link">
      Web App Manifest
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../mang-xa-hoi/" title="Tương tác với mạng xã hội" class="md-nav__link">
      Tương tác với mạng xã hội
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Security
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Security
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../security/content-security-policy/" title="Content Security Policy" class="md-nav__link">
      Content Security Policy
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../security/tai-sao-can-https/" title="Tại sao cần HTTPs" class="md-nav__link">
      Tại sao cần HTTPs
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../security/thuat-ngu-bao-mat-quan-trong/" title="Những thuật ngữ bảo mật quan trọng" class="md-nav__link">
      Những thuật ngữ bảo mật quan trọng
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../security/mixed-content-la-gi/" title="Mixed content là gì" class="md-nav__link">
      Mixed content là gì
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Audit
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Audit
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../audit/overview/" title="Giới thiệu" class="md-nav__link">
      Giới thiệu
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../audit/check-site-security/" title="Kiểm tra bảo mật" class="md-nav__link">
      Kiểm tra bảo mật
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../audit/cong-cu-danh-gia/" title="Công cụ đánh giá" class="md-nav__link">
      Công cụ đánh giá
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      Kỹ thuật nền tảng
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        Kỹ thuật nền tảng
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../base/app-shell/" title="Mô hình vỏ ứng dụng" class="md-nav__link">
      Mô hình vỏ ứng dụng
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../base/async/" title="Hàm async" class="md-nav__link">
      Hàm async
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#css" class="md-nav__link">
    CSS
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tuong-tac-tuy-bien" class="md-nav__link">
    Tương tác tùy biến
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#them-cac-listener-cho-event" class="md-nav__link">
    Thêm các listener cho event
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#xu-ly-khi-bat-au-va-ket-thuc-cham" class="md-nav__link">
    Xử lý khi bắt đầu và kết thúc chạm
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#su-dung-requestanimationframe-e-toi-uu-hieu-nang" class="md-nav__link">
    Sử dụng requestAnimationFrame để tối ưu hiệu năng
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#touch-action" class="md-nav__link">
    touch-action
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ho-tro-trang-thai-active-tren-ios" class="md-nav__link">
    Hỗ trợ trạng thái active trên iOS
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                  <h1>Thêm touch cho website</h1>
                
                <h2 id="css">CSS</h2>
<p>Nếu user click hoặc chạm vào một đối tượng trên website, nguyên tắc chung là chúng ta phải với trả lời user "u cơ, em đã nhận được yêu cầu"</p>
<p>Việc đó được thực hiện bằng cách css cho đối tượng được chạm vào</p>
<blockquote>
<p>Các trạng thái bắt buộc cho một đối tượng mà user có thể chạm vào để thực hiện một thao tác nào đó gồm:  <code>:hover</code>, <code>:focus</code>, <code>:active</code></p>
</blockquote>
<div class="codehilite"><pre><span></span><span class="p">.</span><span class="nc">btn</span> <span class="p">{</span>
    <span class="k">background-color</span><span class="p">:</span> <span class="mh">#4285f4</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">.</span><span class="nc">btn</span><span class="p">:</span><span class="nd">hover</span> <span class="p">{</span>
    <span class="k">background-color</span><span class="p">:</span> <span class="mh">#296CDB</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">.</span><span class="nc">btn</span><span class="p">:</span><span class="nd">focus</span> <span class="p">{</span>
    <span class="k">background-color</span><span class="p">:</span> <span class="mh">#0F52C1</span><span class="p">;</span>
    <span class="k">outline</span><span class="p">:</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">.</span><span class="nc">btn</span><span class="p">:</span><span class="nd">active</span> <span class="p">{</span>
    <span class="k">background-color</span><span class="p">:</span> <span class="mh">#0039A8</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>


<p><img alt="Thêm touch cho website" src="https://developers.google.com/web/fundamentals/design-and-ux/input/touch/images/button-states.png" /></p>
<p>Khi mobile chưa thịnh hành, các website đều bỏ qua trạng thái <code>:active</code>, nên trình duyệt tự bổ sung, chúng ta có thể bỏ đi phần định dạng mặc định của trình duyệt</p>
<div class="codehilite"><pre><span></span><span class="c">/* bỏ phần định dạng của Chrome */</span>
<span class="nt">-webkit-tap-highlight-color</span><span class="o">:</span> <span class="nt">transparent</span><span class="o">;</span>
</pre></div>


<p>IE thì dùng thẻ meta</p>
<div class="codehilite"><pre><span></span><span class="p">&lt;</span><span class="nt">meta</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;msapplication-tap-highlight&quot;</span> <span class="na">content</span><span class="o">=</span><span class="s">&quot;no&quot;</span><span class="p">&gt;</span>
</pre></div>


<p>Firefox cũng có cách riêng</p>
<div class="codehilite"><pre><span></span><span class="p">.</span><span class="nc">btn</span> <span class="p">{</span>
  <span class="k">background-image</span><span class="p">:</span> <span class="kc">none</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">.</span><span class="nc">btn</span><span class="p">::</span><span class="nd">-moz-focus-inner</span> <span class="p">{</span>
  <span class="k">border</span><span class="p">:</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>


<blockquote>
<p>Nếu bỏ định dạng của trình duyệt, nhớ tự định dạng bằng <code>:active</code></p>
</blockquote>
<p>Có nhiều trường hợp chúng ta không muốn user chọn vào một phần nào đó trên UI, để làm việc đó dùng <code>user-select</code>, cũng hết sức cẩn thận khi sử dụng thuộc tính này, vì user dễ nổi cáu vì không chọn được một phần trên UI</p>
<div class="codehilite"><pre><span></span><span class="nt">user-select</span><span class="o">:</span> <span class="nt">none</span><span class="o">;</span>
</pre></div>


<h2 id="tuong-tac-tuy-bien">Tương tác tùy biến</h2>
<p>Với một tương tác tùy biến, như <em>swipe</em> (phổ biến trên ứng dụng mobile), thì có 2 điểm cần ghi nhớ:</p>
<ol>
<li>Hỗ trợ tất cả trình duyệt</li>
<li>Đáp ứng nhanh, đồng nghĩa với việc số lượng frame/second phải cao</li>
</ol>
<p>Chúng ta sẽ tìm hiểu các API cần để hỗ trợ cho tất cả trình duyệt và sử dụng chúng như thế nào cho hiệu quả.</p>
<p>Tùy theo từng tình huống, có khi chúng ta muốn user chỉ được tương tác với một element, hoặc nhiều element cùng lúc.</p>
<blockquote>
<p>Cẩn trọng: Đừng quên có nhiều user muốn sử dụng thuần bàn phím, hoặc các trợ lý ảo trên touchscreen</p>
</blockquote>
<p>Chỉ cho phép user tương tác với một element</p>
<p><img alt="Thêm touch cho website" src="https://developers.google.com/web/fundamentals/design-and-ux/input/touch/images/touch-document-level.gif" /></p>
<p>User có thể tương tác với nhiều element cùng lúc</p>
<p><img alt="Thêm touch cho website" src="https://developers.google.com/web/fundamentals/design-and-ux/input/touch/images/touch-element-level.gif" /></p>
<h3 id="them-cac-listener-cho-event">Thêm các listener cho event</h3>
<p>Trong Chrome, IE, Edge thì dùng <a href="https://developer.mozilla.org/en-US/docs/Web/API/Pointer_events">window.PointerEvent</a>, các trình duyệt khác dùng <a href="https://developer.mozilla.org/vi/docs/Web/API/Touch_events">window.TouchEvent</a> và <a href="https://developer.mozilla.org/en-US/docs/Web/API/MouseEvent">window.MouseEvent</a></p>
<p>Với <code>window.PointerEvent</code> nó sẽ gom tất cả các kiểu input của chuột, touch, pen vào một callback. Chúng ta sẽ đặt xử lý khi <code>pointerdown</code>, <code>pointermove</code>, <code>pointerup</code> và <code>pointercancel</code></p>
<p><code>window.TouchEvent</code> thì tương ứng là <code>touchstart</code>, <code>touchmove</code>, <code>touchend</code>, <code>touchcancel</code>, và <code>mousedown</code>, <code>mousemove</code>, <code>mouseup</code> cho chuột.</p>
<table>
<thead>
<tr>
<th>Sự kiện</th>
<th>Giải thích</th>
</tr>
</thead>
<tbody>
<tr>
<td>touchstart, mousedown, pointerdown</td>
<td>được gọi khi ngón tay lần đầu chạm vào một element or click và giữ chuột</td>
</tr>
<tr>
<td>touchmove, mousemove, pointermove</td>
<td>Khi user trượt ngón tay trên màn hình, kéo rê chuột</td>
</tr>
<tr>
<td>touchend, mouseup, pointerup</td>
<td>khi user bắt đầu bỏ ngón tay ra khỏi màn hình, hoặc bắt đầu bỏ rê chuột</td>
</tr>
<tr>
<td>touchcancel pointercancel</td>
<td>khi trình duyệt cancel xử lý</td>
</tr>
</tbody>
</table>
<div class="codehilite"><pre><span></span><span class="k">if</span> <span class="p">(</span><span class="nb">window</span><span class="p">.</span><span class="nx">PointerEvent</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">swipeFrontElement</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;pointerdown&#39;</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">handleGestureStart</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
    <span class="nx">swipeFrontElement</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;pointermove&#39;</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">handleGestureMove</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
    <span class="nx">swipeFrontElement</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;pointerup&#39;</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">handleGestureEnd</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
    <span class="nx">swipeFrontElement</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;pointercancel&#39;</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">handleGestureEnd</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="nx">swipeFrontElement</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;touchstart&#39;</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">handleGestureStart</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
    <span class="nx">swipeFrontElement</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;touchmove&#39;</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">handleGestureMove</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
    <span class="nx">swipeFrontElement</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;touchend&#39;</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">handleGestureEnd</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
    <span class="nx">swipeFrontElement</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;touchcancel&#39;</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">handleGestureEnd</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>

    <span class="c1">// chỉ dùng mousedown chỗ này</span>
    <span class="nx">swipeFrontElement</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;mousedown&#39;</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">handleGestureStart</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>


<blockquote>
<p><code>window.PointerEvent</code> chỉ cần event <strong>pointerdown</strong> để xử lý cả 2 trường hợp mouse và touch event</p>
</blockquote>
<h3 id="xu-ly-khi-bat-au-va-ket-thuc-cham">Xử lý khi bắt đầu và kết thúc chạm</h3>
<p><img alt="Thêm touch cho website" src="https://developers.google.com/web/fundamentals/design-and-ux/input/touch/images/touch-document-level.gif" /></p>
<p>Chúng ta sẽ hiện thiện các callback <code>handleGestureStart</code>, <code>handleGestureMove</code>, <code>handleGestureEnd</code>, <code>handleGestureEnd</code></p>
<p>Tóm tắt là thế này: khi user bắt đầu tương tác với một element, chúng ta thay vì listen trên đúng element đó, thì chúng ta <strong>đưa</strong> nó lên <code>document</code> để lắng nghe bất kể sự kiện đó diễn ra ở đâu. Như vậy thì chúng ta có thể hỗ trợ việc <code>touch</code></p>
<p>Nếu hình dung đang dùng chuột mà làm cách này có thể hơi vô lý, nhưng thử tưởng tượng sử dụng trên điện thoại, user dùng tay để lướt, bạn sẽ thấy không có gì phi lý.</p>
<p><img alt="Hỗ trợ touch cho website" src="https://developers.google.com/web/fundamentals/design-and-ux/input/touch/images/scroll-bottleneck.gif" /></p>
<p>Điều đó sẽ được thực hiện bên trong hàm <code>handleGestureStart</code></p>
<div class="codehilite"><pre><span></span><span class="k">this</span><span class="p">.</span><span class="nx">handleGestureStart</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">evt</span><span class="p">)</span> <span class="p">{</span>
   <span class="nx">evt</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">();</span>

   <span class="k">if</span><span class="p">(</span><span class="nx">evt</span><span class="p">.</span><span class="nx">touches</span> <span class="o">&amp;&amp;</span> <span class="nx">evt</span><span class="p">.</span><span class="nx">touches</span><span class="p">.</span><span class="nx">length</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
     <span class="k">return</span><span class="p">;</span>
   <span class="p">}</span>

   <span class="c1">// Add the move and end listeners</span>
   <span class="k">if</span> <span class="p">(</span><span class="nb">window</span><span class="p">.</span><span class="nx">PointerEvent</span><span class="p">)</span> <span class="p">{</span>
     <span class="nx">evt</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">setPointerCapture</span><span class="p">(</span><span class="nx">evt</span><span class="p">.</span><span class="nx">pointerId</span><span class="p">);</span>
   <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
     <span class="c1">// Add Mouse Listeners</span>
     <span class="nb">document</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;mousemove&#39;</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">handleGestureMove</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
     <span class="nb">document</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;mouseup&#39;</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">handleGestureEnd</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
   <span class="p">}</span>

   <span class="nx">initialTouchPos</span> <span class="o">=</span> <span class="nx">getGesturePointFromEvent</span><span class="p">(</span><span class="nx">evt</span><span class="p">);</span>

   <span class="nx">swipeFrontElement</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">transition</span> <span class="o">=</span> <span class="s1">&#39;initial&#39;</span><span class="p">;</span>
 <span class="p">}.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
</pre></div>


<p>Nếu có <code>window.PointerEvent</code> chúng ta dùng hàm <code>evt.target.setPointerCapture(evt.pointerId);</code> để <strong>đưa</strong> event đó lên trên <code>document</code></p>
<blockquote>
<p>Mấu chốt là phải đưa event đó lên document</p>
</blockquote>
<p>Trong phần callback của <code>handleGestureEnd()</code>, chúng ta xóa listener trên event</p>
<div class="codehilite"><pre><span></span><span class="k">this</span><span class="p">.</span><span class="nx">handleGestureEnd</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">evt</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">evt</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">();</span>

  <span class="k">if</span><span class="p">(</span><span class="nx">evt</span><span class="p">.</span><span class="nx">touches</span> <span class="o">&amp;&amp;</span> <span class="nx">evt</span><span class="p">.</span><span class="nx">touches</span><span class="p">.</span><span class="nx">length</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="nx">rafPending</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>

  <span class="c1">// Remove Event Listeners</span>
  <span class="k">if</span> <span class="p">(</span><span class="nb">window</span><span class="p">.</span><span class="nx">PointerEvent</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">evt</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">releasePointerCapture</span><span class="p">(</span><span class="nx">evt</span><span class="p">.</span><span class="nx">pointerId</span><span class="p">);</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="c1">// Remove Mouse Listeners</span>
    <span class="nb">document</span><span class="p">.</span><span class="nx">removeEventListener</span><span class="p">(</span><span class="s1">&#39;mousemove&#39;</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">handleGestureMove</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
    <span class="nb">document</span><span class="p">.</span><span class="nx">removeEventListener</span><span class="p">(</span><span class="s1">&#39;mouseup&#39;</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">handleGestureEnd</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="nx">updateSwipeRestPosition</span><span class="p">();</span>

  <span class="nx">initialTouchPos</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
<span class="p">}.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
</pre></div>


<p>Những phần xử lý khác để di chuyển element chúng ta không đề cập ở bài viết này, vì đó không phải trọng tâm của bài viết. Các bạn có thể xem source của demo để tìm hiểu thêm.</p>
<p><a href="https://googlesamples.github.io/web-fundamentals/fundamentals/design-and-ux/input/touch/touch-demo-1.html">Xem Demo</a></p>
<h3 id="su-dung-requestanimationframe-e-toi-uu-hieu-nang">Sử dụng requestAnimationFrame để tối ưu hiệu năng</h3>
<p>Bên trong đối tượng <code>event</code> chúng ta có thể lấy được tọa độ <code>x</code>, <code>y</code> nơi xảy ra sự kiện.  Nếu <code>event</code> có giá trị <code>targetTouches</code>, lấy <code>clientX</code> và <code>clientY</code> từ sự kiện touch đầu tiên, ngược lại sẽ lấy trực tiếp từ <code>event</code></p>
<div class="codehilite"><pre><span></span><span class="kd">function</span> <span class="nx">getGesturePointFromEvent</span><span class="p">(</span><span class="nx">evt</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">point</span> <span class="o">=</span> <span class="p">{};</span>

    <span class="k">if</span><span class="p">(</span><span class="nx">evt</span><span class="p">.</span><span class="nx">targetTouches</span><span class="p">)</span> <span class="p">{</span>
      <span class="c1">// Đối với sự kiện Touch</span>
      <span class="nx">point</span><span class="p">.</span><span class="nx">x</span> <span class="o">=</span> <span class="nx">evt</span><span class="p">.</span><span class="nx">targetTouches</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">clientX</span><span class="p">;</span>
      <span class="nx">point</span><span class="p">.</span><span class="nx">y</span> <span class="o">=</span> <span class="nx">evt</span><span class="p">.</span><span class="nx">targetTouches</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">clientY</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="c1">// Sự kiện của Mouse hoặc Pointer</span>
      <span class="nx">point</span><span class="p">.</span><span class="nx">x</span> <span class="o">=</span> <span class="nx">evt</span><span class="p">.</span><span class="nx">clientX</span><span class="p">;</span>
      <span class="nx">point</span><span class="p">.</span><span class="nx">y</span> <span class="o">=</span> <span class="nx">evt</span><span class="p">.</span><span class="nx">clientY</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="nx">point</span><span class="p">;</span>
  <span class="p">}</span>
</pre></div>


<p>Vì các event callback được chạy trong <strong>main thread</strong>, nên chúng ta chạy càng ít code càng tốt trong callback để frame rate cao</p>
<p>Sử dụng <code>requestAnimationFrame()</code> chúng ta có cơ hội cập nhập UI trước khi browser vẽ một frame và tách một số công việc ra khỏi callback</p>
<p>Nếu bạn chưa quen với <code>requestAnimationFrame()</code>, có thể <a href="https://developers.google.com/web/fundamentals/performance/rendering/optimize-javascript-execution#use-requestanimationframe-for-visual-changes">đọc thêm ở đây</a></p>
<p>Cách hiện thực thông thường là lưu tọa độ <code>x</code> và <code>y</code> khi bắt đầu và gọi <code>requestAnimationFrame()</code> trong callback của move event</p>
<div class="codehilite"><pre><span></span><span class="c1">// Handle the start of gestures</span>
<span class="k">this</span><span class="p">.</span><span class="nx">handleGestureStart</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">evt</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">evt</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">();</span>

  <span class="k">if</span><span class="p">(</span><span class="nx">evt</span><span class="p">.</span><span class="nx">touches</span> <span class="o">&amp;&amp;</span> <span class="nx">evt</span><span class="p">.</span><span class="nx">touches</span><span class="p">.</span><span class="nx">length</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="c1">// Add the move and end listeners</span>
  <span class="k">if</span> <span class="p">(</span><span class="nb">window</span><span class="p">.</span><span class="nx">PointerEvent</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">evt</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">setPointerCapture</span><span class="p">(</span><span class="nx">evt</span><span class="p">.</span><span class="nx">pointerId</span><span class="p">);</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="c1">// Add Mouse Listeners</span>
    <span class="nb">document</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;mousemove&#39;</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">handleGestureMove</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
    <span class="nb">document</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;mouseup&#39;</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">handleGestureEnd</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="nx">initialTouchPos</span> <span class="o">=</span> <span class="nx">getGesturePointFromEvent</span><span class="p">(</span><span class="nx">evt</span><span class="p">);</span>

  <span class="nx">swipeFrontElement</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">transition</span> <span class="o">=</span> <span class="s1">&#39;initial&#39;</span><span class="p">;</span>
<span class="p">}.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
</pre></div>


<p>Phương thức <code>handleGestureMove()</code> lưu vị trí trước hoặc các giá trị mà <code>requestAnimateFrame</code> cần, truyền nó vào <code>onAnimFrame()</code></p>
<div class="codehilite"><pre><span></span><span class="k">this</span><span class="p">.</span><span class="nx">handleGestureMove</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">evt</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">evt</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">();</span>

  <span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">initialTouchPos</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="nx">lastTouchPos</span> <span class="o">=</span> <span class="nx">getGesturePointFromEvent</span><span class="p">(</span><span class="nx">evt</span><span class="p">);</span>

  <span class="k">if</span><span class="p">(</span><span class="nx">rafPending</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="nx">rafPending</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>

  <span class="nb">window</span><span class="p">.</span><span class="nx">requestAnimFrame</span><span class="p">(</span><span class="nx">onAnimFrame</span><span class="p">);</span>
<span class="p">}.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
</pre></div>


<p>Hàm <code>onAnimFrame</code> khi được gọi sẽ thay đổi UI (ví dụ di chuyển UI). Truyền hàm này vào <code>requestAnimationFrame()</code>, chúng ta nói với trình duyệt gọi nó trước khi cập nhập trang</p>
<div class="codehilite"><pre><span></span><span class="kd">function</span> <span class="nx">onAnimFrame</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">rafPending</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="kd">var</span> <span class="nx">differenceInX</span> <span class="o">=</span> <span class="nx">initialTouchPos</span><span class="p">.</span><span class="nx">x</span> <span class="o">-</span> <span class="nx">lastTouchPos</span><span class="p">.</span><span class="nx">x</span><span class="p">;</span>

  <span class="kd">var</span> <span class="nx">newXTransform</span> <span class="o">=</span> <span class="p">(</span><span class="nx">currentXPosition</span> <span class="o">-</span> <span class="nx">differenceInX</span><span class="p">)</span><span class="o">+</span><span class="s1">&#39;px&#39;</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">transformStyle</span> <span class="o">=</span> <span class="s1">&#39;translateX(&#39;</span><span class="o">+</span><span class="nx">newXTransform</span><span class="o">+</span><span class="s1">&#39;)&#39;</span><span class="p">;</span>
  <span class="nx">swipeFrontElement</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">webkitTransform</span> <span class="o">=</span> <span class="nx">transformStyle</span><span class="p">;</span>
  <span class="nx">swipeFrontElement</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">MozTransform</span> <span class="o">=</span> <span class="nx">transformStyle</span><span class="p">;</span>
  <span class="nx">swipeFrontElement</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">msTransform</span> <span class="o">=</span> <span class="nx">transformStyle</span><span class="p">;</span>
  <span class="nx">swipeFrontElement</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">transform</span> <span class="o">=</span> <span class="nx">transformStyle</span><span class="p">;</span>

  <span class="nx">rafPending</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>


<p><a href="https://googlesamples.github.io/web-fundamentals/fundamentals/design-and-ux/input/touch/touch-demo-2.html">Xem Demo</a></p>
<h2 id="touch-action"><code>touch-action</code></h2>
<p>Thuộc tính CSS <code>touch-action</code> cho phép bạn kiểm soát touch behavior mặc định. Trong ví dụ chúng ta sử dụng <code>touch-action: none</code> để chặn trình duyệt làm bất cứ gì khi user touch, cho phép chúng ta làm gì đó với touch</p>
<div class="codehilite"><pre><span></span><span class="nt">touch-action</span><span class="o">:</span> <span class="nt">none</span><span class="o">;</span>
</pre></div>


<p>Ví dụ IE10+ khi bạn double-tab sẽ bật zoom. Chúng ta dùng <code>touch-action: none</code> sẽ bỏ qua behavior mặc định</p>
<h2 id="ho-tro-trang-thai-active-tren-ios">Hỗ trợ trạng thái active trên iOS</h2>
<p>Safari trên iOS mặc định không hỗ trợ trạng thái active, chúng ta phải thêm event listener <code>touchstart</code> trên <code>document</code>, <code>body</code> hoặc từng element một</p>
<p>Nên kiểm tra user có đang dùng iOS trước khi áp dụng tùy chỉnh</p>
<div class="codehilite"><pre><span></span><span class="nb">window</span><span class="p">.</span><span class="nx">onload</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">if</span><span class="p">(</span><span class="sr">/iP(hone|ad)/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nb">window</span><span class="p">.</span><span class="nx">navigator</span><span class="p">.</span><span class="nx">userAgent</span><span class="p">))</span> <span class="p">{</span>
    <span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;touchstart&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{},</span> <span class="kc">false</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">};</span>
</pre></div>


<p>Một cách khác để thêm touch listener trên tất cả các element, sử dụng cẩn thận vì có thể ảnh hưởng tốc độ</p>
<div class="codehilite"><pre><span></span><span class="nb">window</span><span class="p">.</span><span class="nx">onload</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">if</span><span class="p">(</span><span class="sr">/iP(hone|ad)/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nb">window</span><span class="p">.</span><span class="nx">navigator</span><span class="p">.</span><span class="nx">userAgent</span><span class="p">))</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">elements</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelectorAll</span><span class="p">(</span><span class="s1">&#39;button&#39;</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">emptyFunction</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{};</span>
    <span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">elements</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">elements</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;touchstart&#39;</span><span class="p">,</span> <span class="nx">emptyFunction</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">};</span>
</pre></div>


<p><a href="https://developers.google.com/web/fundamentals/design-and-ux/input/touch/">Add Touch to Your Site</a></p>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../../ui-ux/install-pwa/" title="Gợi ý cài đặt PWA" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Gợi ý cài đặt PWA
              </span>
            </div>
          </a>
        
        
          <a href="../form/" title="Thiết kế form thật ngầu" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Thiết kế form thật ngầu
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application.ac79c3b0.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:"../.."}})</script>
      
    
  </body>
</html>